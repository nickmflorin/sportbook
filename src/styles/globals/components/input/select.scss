@use "partials";

@use "./base";

@mixin select-option-structure {
  @include partials.select-option-properties;
  display: flex;
  flex-direction: row;
  align-items: center;

  > .icon {
    margin-right: partials.get-spacing("md");
  }
}

.select {
  display: flex;
  flex-direction: row;
  align-items: center;
  // We need to explicitly set the background color to white (instead of not specifying a background color) such that
  // auto fill styling applied by Google Chrome (and likely others) does not change the background.
  height: partials.$input-height;

  > div[role="combobox"] {
    width: 100%;
    height: 100%;

    > .mantine-Input-wrapper.mantine-Select-wrapper {
      height: 100%;

      > input.mantine-Select-input.mantine-Input-input {
        @extend %native-input-base;
        border-radius: partials.$input-border-radius;
        border: partials.$input-border;

        // We need to explicitly set the background color to white (instead of not specifying a background color) such that
        // auto fill styling applied by Google Chrome (and likely others) does not change the background.
        background-color: partials.$input-bg-color;
        color: partials.$input-color;
        padding: partials.$input-padding;
        height: 100%;
        min-height: 0;

        > .icon {
          color: partials.$input-icon-color;
        }

        @include partials.disabled {
          background-color: partials.$input-disabled-bg-color;
        }

        @include partials.focused {
          outline-color: partials.$input-focused-border-color;
        }

        @include partials.focused-within {
          outline-color: partials.$input-focused-border-color;
        }
      }
    }
  }

  .select__option {
    @include select-option-structure;
  }

  .select-option-createable {
    /*  Note: Right now, we cannot add the custom hover and focus background color behavior to the creatable option at
        the bottom of the select.  This is because Mantine does not use the optionComponent prop for this option, and
        thus we cannot provide the custom .select__option class to the wrapping option element.  This means that the
        hover and focus background colors will apply to the inner section of the creatable option - but not the outer
        section.

        Eventually, we will use our own select and this issue will be alleviated. */
    @include select-option-structure;
  }
}
